# ros2_diag_tui Configuration â€” Perseus-Lite (custom differential-drive robot)
# Example of a real-world robot config with custom frame names and high-rate IMU.
# Global settings for timing, rate calculation, and UI refresh
settings:
  # Timing thresholds (seconds)
  stale_data_timeout: 2.0 # seconds before data marked stale
  tf_check_interval: 1.0 # seconds between TF frame checks
  lifecycle_check_interval: 2.0 # seconds between lifecycle queries
  # Rate calculation
  rate_window_size: 10 # sliding window message count
  rate_warning_threshold: 0.8 # warn if actual < 80% of expected
  rate_critical_threshold: 0.5 # critical if actual < 50% of expected
  # UI refresh
  refresh_ms: 200 # initial TUI refresh rate (ms)
  refresh_min_ms: 100 # minimum refresh rate (ms)
  refresh_max_ms: 2000 # maximum refresh rate (ms)
  refresh_step_ms: 100 # +/- step size (ms)
# Topics to monitor for rate and connectivity
monitored_topics:
  - name: scan
    topic: /scan
    type: LaserScan
    expected_hz: 10.0
    critical: true
  - name: imu
    topic: /imu/data
    type: Imu
    expected_hz: 100.0
    critical: true
  - name: odom
    topic: /odom
    type: Odometry
    expected_hz: 50.0
    critical: false
  - name: odom_filtered
    topic: /odometry/filtered
    type: Odometry
    expected_hz: 30.0
    critical: false
  - name: map
    topic: /map
    type: OccupancyGrid
    expected_hz: 0.1
    critical: false
  - name: cmd_vel
    topic: /cmd_vel
    type: Twist
    expected_hz: 0.0
    critical: false
  - name: joint_states
    topic: /joint_states
    type: JointState
    expected_hz: 50.0
    critical: true
  - name: joy
    topic: /joy
    type: Joy
    expected_hz: 0.0
    critical: false
# Joystick device monitoring
joystick:
  device_path: "/dev/input/js*" # glob pattern for joystick device files
# TF frame chains to verify connectivity
tf_frames:
  - parent: map
    child: odom
    description: SLAM/AMCL
    critical: false
  - parent: odom
    child: base_link
    description: EKF
    critical: false
  - parent: base_link
    child: chassis
    description: URDF
    critical: true
  - parent: chassis
    child: laser_2d_frame
    description: LiDAR
    critical: true
  - parent: chassis
    child: imu_link
    description: IMU
    critical: true
# Nav2 lifecycle nodes to monitor state
lifecycle_nodes:
  - bt_navigator
  - controller_server
  - planner_server
  - map_server
  - amcl
  - smoother_server
  - velocity_smoother
  - collision_monitor
  - waypoint_follower
  - behavior_server
